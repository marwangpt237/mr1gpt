[English](README.md)

# وكيل الذكاء الاصطناعي EL لـ Termux

يهدف هذا المشروع إلى إنشاء مساعد ذكاء اصطناعي قوي وذكي ومستقل لـ Termux، قادر على تنفيذ الأوامر، والتفكير بمفرده، والتفاعل عبر واجهات مختلفة، بما في ذلك بوت Telegram.

## الميزات

-   **هندسة معمارية معيارية (Modular Architecture):** منظمة في مكونات أساسية، وأنماط تشغيل، وواجهات لسهولة الصيانة والتوسع.
-   **حلقة الوكيل (AgentLoop - فكر وتصرف):** يمكن للذكاء الاصطناعي تحليل الأوامر وتخطيطها وتنفيذها ومراجعة النتائج بشكل مستقل.
-   **وضع الفريق الأحمر (Red Team Mode):** وضع متخصص لاكتشاف الشبكات والأنظمة وتعدادها واستغلالها، مع التكامل مع أدوات مثل Nmap و Whois و Metasploit.
-   **تكامل بوت Telegram:** التحكم والتفاعل مع وكيل الذكاء الاصطناعي عن بعد عبر Telegram.
-   **الوضع الصامت (Silent Mode):** تنفيذ الأوامر وتلقي الردود دون طباعتها على وحدة التحكم.
-   **موجه النظام الديناميكي (Dynamic System Prompt):** يمكن تغيير شخصية وسلوك الذكاء الاصطناعي ديناميكيًا بناءً على الوضع النشط.

## الإعداد والتثبيت

### 1. تثبيت Termux

إذا لم يكن لديك Termux، قم بتثبيته من F-Droid أو GitHub (قد تكون نسخة متجر Google Play قديمة).

### 2. تحديث حزم Termux

```bash
pkg update && pkg upgrade
```

### 3. تثبيت Python و Pip

```bash
pkg install python
```

### 4. تثبيت تبعيات Python

```bash
pip install requests python-dotenv python-telegram-bot
```

### 5. تثبيت الأدوات الخارجية (لوضع الفريق الأحمر)

-   **Nmap و Whois:**
    ```bash
    pkg install nmap whois
    ```
-   **إطار عمل Metasploit (اختياري ومتقدم):**
    تثبيت Metasploit في Termux معقد ويتطلب الكثير من الموارد ومساحة التخزين. ابحث عن أدلة حديثة (على سبيل المثال، "install metasploit termux"). تتضمن الطريقة الشائعة ما يلي:
    ```bash
    pkg install curl wget git
    curl -LO https://raw.githubusercontent.com/Hax4us/Metasploit_termux/master/metasploit.sh
    chmod +x metasploit.sh
    ./metasploit.sh
    ```
    **تحذير:** قد يكون تثبيت Metasploit غير مستقر ويتطلب مساحة تخزين كبيرة.

### 6. استنساخ المشروع (أو نسخ الملفات)

إذا كان لديك `git` مثبتًا:
```bash
git clone <repository_url> EL # استبدل <repository_url> بالرابط الفعلي إذا كان هذا مستودعًا
cd EL
```

إذا كنت تقوم بنسخ الملفات يدويًا، فتأكد من وضع جميع الملفات في الهيكل المعياري الصحيح:

```
EL/
├── core/
│   ├── executor.py
│   ├── memory.py
│   ├── llm_handler.py
│   └── context.py
├── modes/
│   ├── agentloop.py
│   └── redteam.py
├── interfaces/
│   └── telegram_bot.py
├── EL.py
└── .env
```

### 7. تكوين متغيرات البيئة (ملف `.env`)

انتقل إلى دليل `EL/` وافتح ملف `.env`. تحتاج إلى توفير مفاتيح API الخاصة بك:

```
DEEPINFRA_API_KEY=YOUR_DEEPINFRA_API_KEY_HERE
DEEPINFRA_MODEL=deepseek-ai/DeepSeek-V3-0324
TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN_HERE
```

-   **`DEEPINFRA_API_KEY`:** احصل عليه من DeepInfra (على سبيل المثال، من لوحة تحكم حسابك).
-   **`DEEPINFRA_MODEL`:** الافتراضي هو `deepseek-ai/DeepSeek-V3-0324`. يمكنك تغييره إلى أي نموذج آخر مدعوم من DeepInfra.
-   **`TELEGRAM_BOT_TOKEN`:** تحدث إلى `@BotFather` على Telegram لإنشاء بوت جديد والحصول على التوكن الخاص به.

## الاستخدام

### تشغيل الوكيل

انتقل إلى دليل `EL/` في Termux وقم بتشغيل:

```bash
python EL.py
```

### التفاعل مع الوكيل

بمجرد التشغيل، يمكنك كتابة أوامرك مباشرة في وحدة تحكم Termux.

#### الأوضاع:

-   **وضع الوكيل العادي (افتراضي):** يعمل الذكاء الاصطناعي كمساعد للأغراض العامة.
    -   للتبديل إلى هذا الوضع: `mode normal`
-   **وضع الفريق الأحمر:** يعمل الذكاء الاصطناعي كوكيل فريق أحمر نخبة، مع التركيز على مهام الشبكة والنظام.
    -   للتبديل إلى هذا الوضع: `mode redteam`

#### الأوامر الخاصة:

-   `exit`: يخرج من الوكيل.
-   `silent on`: ينشط الوضع الصامت. لن تتم طباعة ردود الذكاء الاصطناعي على وحدة التحكم (مفيد للتفاعل مع بوت Telegram).
-   `silent off`: يعطل الوضع الصامت. ستتم طباعة ردود الذكاء الاصطناعي على وحدة التحكم.
-   `start_telegram_bot`: يبدأ واجهة بوت Telegram. بمجرد البدء، يمكنك التفاعل مع الذكاء الاصطناعي عبر بوت Telegram الخاص بك.

#### أمثلة وضع الفريق الأحمر:

-   `scan network` (سينفذ `nmap -T4 -F 192.168.1.0/24` افتراضيًا)
-   `whois example.com` (سينفذ `whois example.com`)
-   `use msf exploit/multi/handler` (سينفذ `msfconsole -q -x 'use exploit/multi/handler; run'`)

### استخدام بوت Telegram

1.  تأكد من تعيين `TELEGRAM_BOT_TOKEN` بشكل صحيح في ملف `.env` الخاص بك.
2.  قم بتشغيل الوكيل: `python EL.py`
3.  في وحدة تحكم الوكيل، اكتب `start_telegram_bot`.
4.  انتقل إلى تطبيق Telegram الخاص بك، وابحث عن البوت الخاص بك باسم المستخدم الخاص به، وابدأ الدردشة معه. يمكنك إرسال أوامر مثل `/start`، `/help`، أو أي استعلام باللغة الطبيعية.

## اعتبارات الأمان (حاسمة!)

**إن منح الذكاء الاصطناعي وصولاً مباشرًا لتنفيذ أوامر shell عشوائية يمثل خطرًا أمنيًا كبيرًا.** تم تصميم هذا المشروع للمستخدمين المتقدمين الذين يفهمون هذه المخاطر.

-   **بيئة Sandbox:** قم دائمًا بتشغيل هذا الوكيل في بيئة sandbox (على سبيل المثال، مثيل Termux مخصص، أو جهاز افتراضي، أو بيئة chroot) معزولة عن نظامك الرئيسي والبيانات الحساسة.
-   **صلاحيات محدودة:** تأكد من أن بيئة Termux والمستخدم الذي يقوم بتشغيل السكربت لديهما الحد الأدنى المطلق من الصلاحيات الضرورية.
-   **تأكيد الأمر:** لأي استخدام إنتاجي أو حساس، **يوصى بشدة بتنفيذ خطوة تأكيد المستخدم** قبل أن يقوم الذكاء الاصطناعي بتنفيذ أي أمر، خاصة تلك التي قد تكون مدمرة (على سبيل المثال، `rm`، `mv`، `dd`، `format`). ينفذ التنفيذ الحالي الأوامر مباشرة لأغراض العرض التوضيحي.
-   **عزل الشبكة:** عند استخدام وضع الفريق الأحمر أو أي قدرات مسح للشبكة، تأكد من أنك تستهدف فقط الشبكات والأنظمة التي لديك إذن صريح لاختبارها (على سبيل المثال، شبكة الاختبار المحلية الخاصة بك، الأجهزة الافتراضية).
-   **هلوسات LLM:** يمكن لنماذج اللغة الكبيرة إنشاء أوامر غير صحيحة أو غير موجودة. راجع دائمًا الإجراءات المقترحة من الذكاء الاصطناعي.

## التحسينات المستقبلية

-   **استخدام الأدوات / استدعاء الوظائف:** تنفيذ آلية استخدام أدوات أكثر قوة حيث يقوم LLM باستدعاء الوظائف المحددة مسبقًا مباشرة (على سبيل المثال، `execute_command`، `read_file`) بدلاً من تحليل علامات `<CMD>`.
-   **تسجيل المخاطر:** تنفيذ ميزة لتقييم مستوى المخاطر للأوامر المقترحة قبل التنفيذ.
-   **الإدخال الصوتي:** دمج التعرف على الصوت للتفاعل بدون استخدام اليدين.
-   **وضع تحسين الوكيل:** تطوير آليات التحسين الذاتي بناءً على التفاعلات الناجحة والفاشلة.
-   **الذاكرة المستمرة:** حفظ سجل المحادثات والسياق في ملف للذاكرة طويلة المدى.

هذا المشروع أداة قوية. استخدمها بمسؤولية وأخلاقية.


